@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
  /* ====== 全体レイアウト ====== */

  .hb-game-screen {
    @apply min-h-screen bg-slate-950 text-slate-50 flex flex-col;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
      sans-serif;
  }

  .hb-game-header {
    @apply flex flex-col md:flex-row items-start md:items-center justify-between px-8 pt-4 pb-2 gap-4;
  }

  .hb-game-title {
    @apply text-xl md:text-2xl font-semibold text-slate-50;
  }

  .hb-top-status {
    @apply flex flex-col md:flex-row items-start md:items-center gap-3 md:gap-6;
  }

  .hb-status-group {
    @apply flex flex-row flex-wrap gap-2;
  }

  .hb-status-badge {
    @apply inline-flex items-center gap-1 px-3 py-1 rounded-full bg-slate-800/80 border border-slate-700 text-xs;
  }

  .hb-status-label {
    @apply text-slate-300;
  }

  .hb-status-value {
    @apply font-semibold text-amber-300;
  }

  .hb-turn-indicator {
    @apply flex flex-col items-start gap-1 text-sm;
  }

  .hb-turn-text {
    @apply text-slate-300;
  }

  .hb-phase-pill {
    @apply inline-flex items-center px-3 py-1 rounded-full bg-indigo-700/70 text-xs font-semibold;
  }

  /* 3カラムのメインレイアウト（左サイドバー / 中央サプライ / 右詳細） */
  .hb-main-layout {
    @apply flex-1 flex flex-row gap-4 px-6 pb-4 pt-2;
    min-height: 0; /* 中央・右カラム内でスクロールできるようにする */
  }

  /* 左サイドバー（プレイヤー情報 / CPU 情報） */
  .hb-left-sidebar {
    @apply flex flex-col gap-4 flex-none;
    width: 260px;
  }

  /* 中央カラム（サプライ＋プレイエリア） */
  .hb-center-area {
    @apply flex-1 flex flex-col gap-4;
    min-height: 0;
  }

  /* 右カラム（カード詳細＋ログ） */
  .hb-card-detail-panel {
    @apply w-80 flex flex-col gap-3 flex-none;
    min-height: 0;
  }

  .hb-section-title {
    @apply text-sm font-semibold text-slate-200 mb-1;
  }

  /* ====== プレイヤーパネル ====== */

  .hb-player-panel {
    @apply bg-slate-900/80 border border-slate-700 rounded-2xl px-4 py-3 shadow-md flex flex-col gap-1 text-sm;
  }

  .hb-player-panel--compact {
    @apply opacity-80 text-xs;
  }

  .hb-panel-title {
    @apply text-slate-100 font-semibold mb-1;
  }

  .hb-panel-row {
    @apply flex items-center justify-between text-slate-300;
  }

  /* ====== サプライボード ====== */

  .hb-supply-section {
    @apply bg-slate-900/70 border border-slate-700 rounded-3xl px-4 pt-3 pb-4 shadow-inner flex flex-col gap-2 flex-1;
    min-height: 0;
  }

  /* Dominion Online 風：2行 x 5列グリッドでサプライを表示 */
  .hb-supply-board {
    display: grid;
    grid-template-columns: repeat(5, minmax(160px, 1fr));
    grid-auto-rows: auto;
    gap: 20px;
    padding: 16px 24px;
    overflow-y: auto;
  }

  .hb-supply-card {
    @apply relative w-full h-full focus:outline-none cursor-pointer;
  }

  .hb-supply-card--disabled {
    @apply cursor-not-allowed opacity-60;
  }

  /* ====== カード汎用スタイル ====== */

  /* カード本体：2:3 の縦長矩形カード */
  .hb-card {
    @apply relative bg-slate-950/80 rounded-2xl border border-slate-700 shadow-lg overflow-hidden flex flex-col;
    aspect-ratio: 2 / 3;
  }

  /* バリアントごとのサイズは外側ラッパーで制御する想定だが、
     必要に応じて微調整用のクラスを用意しておく */
  .hb-card--supply {
    @apply w-full;
  }

  .hb-card--hand {
    @apply w-full;
  }

  .hb-card--play {
    @apply w-full;
  }

  .hb-card-image-wrapper {
    @apply relative w-full h-full overflow-hidden;
  }

  .hb-card-image {
    @apply w-full h-full object-cover;
  }

  .hb-card-cost-badge {
    @apply absolute bottom-2 right-2 px-2 py-[2px] rounded-full bg-amber-700/90 text-[11px] text-amber-50 font-semibold shadow;
  }

  .hb-card-remaining-badge {
    @apply absolute top-2 left-2 px-2 py-[2px] rounded-full bg-slate-950/85 border border-amber-400 text-[11px] text-amber-200;
  }

  .hb-card-footer {
    @apply px-3 pt-2 pb-2 bg-slate-950/95 border-t border-slate-700 flex flex-col gap-1;
  }

  .hb-card-title-row {
    @apply flex items-center justify-between gap-2;
  }

  .hb-card-name {
    @apply text-[13px] font-semibold text-slate-100 truncate;
  }

  .hb-card-type {
    @apply px-2 py-[2px] rounded-full bg-sky-900/80 text-[11px] text-sky-100 shrink-0;
  }

  /* ====== プレイエリア ====== */

  .hb-play-area {
    @apply bg-slate-900/70 border border-slate-700 rounded-3xl px-4 pt-3 pb-3 flex flex-col gap-2 mt-2;
  }

  .hb-play-cards-row {
    @apply flex flex-row flex-wrap gap-3;
  }

  .hb-play-card-wrapper {
    @apply w-[180px];
  }

  .hb-play-empty {
    @apply text-xs text-slate-400;
  }

  /* ====== カード詳細 ====== */

  .hb-card-detail-scroll {
    @apply flex-1 bg-slate-900/80 border border-slate-700 rounded-3xl px-4 py-3 overflow-y-auto;
  }

  .hb-card-detail-placeholder {
    @apply text-xs text-slate-400;
  }

  .hb-card-detail {
    @apply flex flex-col gap-1 text-sm text-slate-100;
  }

  .hb-card-detail-name {
    @apply text-base font-semibold;
  }

  .hb-card-detail-meta {
    @apply text-xs text-slate-300 flex flex-wrap gap-1;
  }

  .hb-card-detail-text {
    @apply text-xs text-slate-200 leading-relaxed mt-1;
  }

  /* カード詳細パネル内のログエリア */
  .hb-detail-log-panel {
    @apply mt-3 flex flex-col gap-1;
  }

  /* ====== 手札エリア ====== */

  .hb-hand-area {
    @apply border-t border-slate-800 bg-slate-950/95 px-6 pt-3 pb-4 flex flex-col gap-2;
  }

  .hb-hand-header {
    @apply flex items-baseline justify-between;
  }

  .hb-hand-hint {
    @apply text-[11px] text-slate-400;
  }

  /* 手札：横一列に並べ、オーバーフロー時は横スクロールにする */
  .hb-hand-cards {
    @apply flex flex-row gap-16 overflow-x-auto pb-1 px-1;
  }

  .hb-hand-card-slot {
    @apply w-[170px] flex-shrink-0 cursor-pointer transition-transform duration-150 ease-out;
  }

  .hb-hand-card-slot:hover {
    @apply -translate-y-1;
  }

  .hb-hand-card-slot--selected {
    @apply ring-2 ring-amber-400 ring-offset-2 ring-offset-slate-900;
  }

  /* ====== 手札アクションボタン ====== */

  .hb-hand-actions {
    @apply flex flex-row justify-end gap-12 px-24 pt-2;
  }

  .hb-btn {
    @apply px-4 py-2 rounded-full text-sm font-semibold transition-colors duration-150;
  }

  .hb-btn-primary {
    @apply bg-emerald-600 hover:bg-emerald-500 text-white;
  }

  .hb-btn-secondary {
    @apply bg-slate-700 hover:bg-slate-600 text-slate-50;
  }

  .hb-log-scroll {
    @apply bg-slate-900/80 border border-slate-700 rounded-2xl px-3 py-2 text-xs text-slate-100 max-h-32 overflow-y-auto;
  }

  .hb-log-empty {
    @apply text-slate-400;
  }

  .hb-log-line {
    @apply leading-tight;
  }
}

