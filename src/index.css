@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===========================
   History Build v1.5 – Layout
   3 カラム + 下部手札
   =========================== */

@layer components {
  .hb-game-layout {
    @apply min-h-screen bg-slate-900 text-slate-100 flex flex-col;
  }

  .hb-game-header {
    @apply border-b border-slate-800 bg-slate-950/90 backdrop-blur;
  }

  .hb-game-header-top {
    @apply w-full max-w-6xl mx-auto px-4 py-3 flex items-center justify-between;
  }

  .hb-game-title {
    @apply text-sm md:text-base font-semibold tracking-wide;
  }

  .hb-game-status {
    @apply flex flex-wrap gap-2 text-xs;
  }

  .hb-pill {
    @apply inline-flex items-center px-2 py-0.5 rounded-full bg-slate-800/80 text-[11px] text-slate-100 border border-slate-700/70;
  }

  .hb-game-resources {
    @apply w-full max-w-6xl mx-auto px-4 pb-2 flex flex-wrap gap-2 text-xs;
  }

  .hb-resource-badge {
    @apply inline-flex items-center gap-1 px-2 py-1 rounded bg-slate-800/80 border border-slate-700/70;
  }

  .hb-resource-label {
    @apply text-[11px] text-slate-300;
  }

  .hb-resource-value {
    @apply text-xs font-semibold text-amber-300;
  }

  /* ===== メイン 3 カラム ===== */

  .hb-game-main {
    @apply flex-1 w-full flex justify-center;
  }

  .hb-column {
    @apply py-3;
  }

  .hb-player-panel {
    @apply w-[180px] px-3 hidden lg:block;
  }

  .hb-center-area {
    @apply flex-1 px-2 md:px-3 lg:px-4 max-w-4xl;
  }

  .hb-detail-panel {
    @apply w-[260px] px-3 hidden lg:block;
  }

  /* ===== プレイヤー / CPU 情報 ===== */

  .hb-player-box {
    @apply mb-3 rounded-xl border border-slate-800 bg-slate-900/80 p-3;
  }

  .hb-player-box-cpu {
    @apply bg-slate-900/60;
  }

  .hb-player-title {
    @apply text-xs font-semibold text-slate-100 mb-2;
  }

  .hb-player-body {
    @apply space-y-1.5 text-[11px];
  }

  .hb-player-row {
    @apply flex justify-between;
  }

  .hb-player-label {
    @apply text-slate-400;
  }

  .hb-player-value {
    @apply text-slate-100;
  }

  /* ===== サプライエリア ===== */

  .hb-supply-area {
    @apply mt-3;
  }

  .hb-section-title {
    @apply text-xs font-semibold text-slate-100;
  }

  .hb-supply-board {
    @apply mt-2 rounded-xl border border-slate-800 bg-slate-950/80 p-2;
  }

  .hb-supply-layout {
    @apply flex gap-3;
  }

  .hb-supply-basic-column {
    @apply flex flex-col gap-2 pr-1;
    width: 7.5rem;
    flex-shrink: 0;
  }

  .hb-supply-kingdom-grid {
    @apply grid gap-2 flex-1;
    grid-template-columns: repeat(5, minmax(0, 1fr));
  }

  /* ===== カードビュー（共通） ===== */

  .hb-card-view {
    @apply inline-block text-left;
  }

  .hb-card-view-inner {
    @apply relative;
  }

  .hb-card-frame {
    @apply relative rounded-xl border border-slate-700/80 bg-slate-900/90 shadow-sm overflow-hidden;
  }

  .hb-card-view--highlight .hb-card-frame {
    @apply ring-2 ring-sky-400 shadow-sky-500/40;
  }

  .hb-card-view--disabled {
    @apply opacity-60 cursor-not-allowed;
  }

  .hb-card-art-wrapper {
    @apply p-1.5 pb-0;
  }

  .hb-card-view-image-wrapper {
    @apply relative w-full rounded-lg overflow-hidden;
    aspect-ratio: 2 / 3;
  }

  .hb-card-view-image {
    @apply w-full h-full object-cover;
  }

  .hb-card-view-image-placeholder {
    @apply w-full h-full flex items-center justify-center text-xs text-slate-400 bg-slate-800;
  }

  .hb-card-view-cost {
    @apply absolute right-1 bottom-1 px-1.5 py-0.5 rounded-full bg-slate-900/85 border border-amber-400/70 text-[10px] text-amber-200;
  }

  .hb-card-view-remaining-badge {
    @apply absolute left-1 top-1 px-1.5 py-0.5 rounded-full bg-emerald-900/90 border border-emerald-500/70 text-[10px] text-emerald-200;
  }

  .hb-card-view-body {
    @apply px-2 pb-2 pt-1;
  }

  .hb-card-view-header {
    @apply flex items-center justify-between gap-1 mb-0.5;
  }

  .hb-card-view-name {
    @apply text-[11px] font-semibold leading-tight text-slate-100;
  }

  .hb-card-view-type {
    @apply text-[9px] px-1 py-0.5 rounded-full bg-slate-800/80 text-slate-200;
  }

  .hb-card-view-meta {
    @apply text-[10px] text-slate-400;
  }

  .hb-card-view-text {
    @apply mt-0.5 text-[10px] leading-snug text-slate-200 line-clamp-4;
  }

  /* サプライ用コンパクトカード（イラスト + 名前のみ） */

  .hb-card-view--supply {
    width: 9rem;
  }

  .hb-card-view--supply .hb-card-view-body {
    @apply pt-1 pb-1.5;
  }

  .hb-card-view--supply .hb-card-view-meta,
  .hb-card-view--supply .hb-card-view-text {
    @apply hidden;
  }

  .hb-card-view-footer {
    @apply flex items-center justify-between gap-1 px-2 py-1 border-t border-slate-800 bg-slate-900/90;
  }

  .hb-card-view-footer-status {
    @apply text-[10px] text-slate-300 truncate;
  }

  .hb-card-view-footer-button {
    @apply text-[10px] px-2 py-0.5 rounded bg-sky-600 text-white hover:bg-sky-500 disabled:opacity-40 disabled:cursor-not-allowed;
  }

  /* ===== サプライカードのラッパ ===== */

  .hb-supply-card {
    @apply cursor-pointer;
  }

  .hb-supply-card-compact .hb-card-frame {
    @apply text-[11px];
  }

  .hb-supply-card-selected .hb-card-frame {
    @apply ring-2 ring-sky-400 shadow-sky-500/40;
  }

  /* ===== 右側カード詳細パネル ===== */

  .hb-card-detail-panel {
    @apply rounded-xl border border-slate-800 bg-slate-950/80 p-3 text-xs leading-snug h-full;
  }

  .hb-detail-name {
    @apply text-sm font-semibold text-slate-50 mb-1;
  }

  .hb-detail-type {
    @apply text-[11px] text-slate-300 mb-2;
  }

  .hb-detail-text {
    @apply text-[11px] text-slate-100 whitespace-pre-wrap;
  }

  .hb-detail-placeholder {
    @apply text-[11px] text-slate-400;
  }

  /* ===== 手札エリア ===== */

  .hb-hand-area {
    @apply border-t border-slate-800 bg-slate-950/95;
  }

  .hb-hand-area-inner {
    @apply w-full max-w-6xl mx-auto px-4 pt-2 pb-2;
  }

  .hb-hand-header {
    @apply flex items-center justify-between mb-1;
  }

  .hb-hand-helper {
    @apply text-[10px] text-slate-400;
  }

  .hb-hand-empty {
    @apply text-[11px] text-slate-400 py-2;
  }

  .hb-hand-scroll {
    @apply flex gap-3 overflow-x-auto overflow-y-hidden pb-1;
  }

  .hb-hand-card-wrapper {
    @apply flex-shrink-0;
  }

  .hb-hand-card-selected {
    @apply ring-2 ring-sky-400 rounded-xl;
  }

  /* ===== フッター ===== */

  .hb-footer {
    @apply border-t border-slate-800 bg-slate-950/95;
  }

  .hb-footer-inner {
    @apply w-full max-w-6xl mx-auto px-4 py-2;
  }

  .hb-footer-buttons {
    @apply flex flex-wrap gap-2 justify-end;
  }

  .hb-footer-button {
    @apply text-xs px-3 py-1.5 rounded-lg border border-slate-700 bg-slate-900 text-slate-100 hover:bg-slate-800 disabled:opacity-40 disabled:cursor-not-allowed;
  }

  .hb-footer-button-primary {
    @apply border-sky-500 bg-sky-600 hover:bg-sky-500;
  }

  .hb-footer-button-muted {
    @apply border-slate-700 bg-slate-900 text-slate-300;
  }
}

