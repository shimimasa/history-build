@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
  /* ====== 全体レイアウト ====== */

  .hb-game-layout {
    @apply min-h-screen bg-slate-950 text-slate-50 flex flex-col;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
      sans-serif;
  }

  .hb-game-header {
    @apply flex flex-col gap-3 px-6 pt-4 pb-2 border-b border-slate-800;
  }

  .hb-game-header-top {
    @apply flex flex-col md:flex-row items-start md:items-center justify-between gap-3;
  }

  .hb-game-title {
    @apply text-xl md:text-2xl font-semibold text-slate-50;
  }

  .hb-game-status {
    @apply flex flex-wrap gap-2 text-xs md:text-sm;
  }

  .hb-pill {
    @apply px-3 py-1 rounded-full bg-slate-800/80 border border-slate-700 text-slate-100;
  }

  .hb-phase-badge {
    @apply px-3 py-1 rounded-full text-xs font-semibold;
  }

  .hb-phase-badge-draw {
    @apply bg-sky-900/80 text-sky-200 border border-sky-700/60;
  }

  .hb-phase-badge-action {
    @apply bg-emerald-900/80 text-emerald-200 border border-emerald-700/60;
  }

  .hb-phase-badge-buy {
    @apply bg-amber-900/80 text-amber-200 border border-amber-700/60;
  }

  .hb-phase-badge-cleanup {
    @apply bg-slate-800/80 text-slate-200 border border-slate-700/60;
  }

  .hb-game-header-bottom {
    @apply flex items-center justify-between;
  }

  .hb-resource-row {
    @apply flex flex-wrap gap-3 text-xs md:text-sm text-slate-200;
  }

  .hb-main-row {
    @apply flex-1 flex flex-col md:flex-row gap-4 px-4 md:px-6 py-3 md:py-4;
  }

  .hb-sidebar {
    @apply w-full md:w-80 flex flex-col gap-3;
  }

  .hb-board-area {
    @apply flex-1 flex flex-col gap-3 min-w-0;
  }

  .hb-board-inner {
    @apply w-full max-w-6xl px-1 md:px-2 py-2 md:py-3 flex flex-col gap-3;
    margin: 0 auto;
  }

  .hb-card {
    background: radial-gradient(circle at top, #1f2937, #020617);
    border-radius: 16px;
    padding: 0.75rem 0.9rem;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.6);
    border: 1px solid rgba(148, 163, 184, 0.35);
  }

  .hb-section-title {
    @apply text-sm font-semibold text-slate-200 mb-1;
  }

  /* ====== プレイヤーパネル ====== */

  .hb-player-panel {
    @apply bg-slate-900/80 border border-slate-700 rounded-2xl px-4 py-3 shadow-md flex flex-col gap-1 text-sm;
  }

  .hb-player-panel--compact {
    @apply opacity-80 text-xs;
  }

  .hb-panel-title {
    @apply text-slate-100 font-semibold mb-1;
  }

  .hb-panel-row {
    @apply flex items-center justify-between text-slate-300;
  }

  /* ====== カード詳細パネル ====== */

  .hb-card-detail-panel {
    @apply bg-slate-900/80 border border-slate-700 rounded-2xl px-3 py-2 flex flex-col gap-2 text-xs;
  }

  .hb-card-detail-body {
    @apply flex flex-col gap-2;
  }

  .hb-card-detail-main {
    @apply flex gap-2 items-start;
  }

  .hb-card-detail-figure {
    @apply w-20 flex-shrink-0;
  }

  .hb-card-detail-text {
    @apply flex-1 text-[11px] leading-snug;
  }

  .hb-card-detail-name {
    @apply font-semibold text-slate-50 text-sm;
  }

  .hb-card-detail-type {
    @apply text-[11px] text-slate-300;
  }

  .hb-card-detail-cost,
  .hb-card-detail-vp {
    @apply text-[11px] text-slate-200;
  }

  .hb-card-detail-effect {
    @apply text-[11px] text-slate-100 leading-snug;
  }

  .hb-card-detail-flavor {
    @apply text-[11px] text-slate-400 italic;
  }

  .hb-card-detail-placeholder {
    @apply text-[11px] text-slate-400;
  }

  /* ====== ログ ====== */

  .hb-log-panel {
    @apply bg-slate-900/80 border border-slate-700 rounded-2xl px-3 py-2 flex flex-col gap-2 text-xs;
  }

  .hb-log-body {
    @apply max-h-40 overflow-y-auto pr-1;
  }

  .hb-log-list {
    @apply flex flex-col gap-1;
  }

  .hb-log-item {
    @apply text-[11px] text-slate-200;
  }

  .hb-log-placeholder {
    @apply text-[11px] text-slate-400;
  }

  /* ====== サプライボード ====== */

  .hb-supply-area {
    @apply flex-1;
    overflow-y: auto;
    padding-right: 4px;
  }

  .hb-supply-board {
    @apply w-full;
  }

  /* サプライ全体を横並びに（左2列、右グリッド） */
.hb-supply-layout {
  display: grid;
  grid-template-columns: 150px 150px 1fr; /* 左：資源 / 左2：勝利点 / 右：王国 */
  gap: 16px;
  align-items: flex-start;
}

.hb-basic-column {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

 /* 資源・勝利点カードは compact 表示（小さく） */
.hb-basic-column .hb-card-frame {
  max-width: 135px;
  transform: scale(0.92);
  transform-origin: top center;
}

  .hb-basic-supply-column--resource {
    /* 必要なら資源列専用の装飾をここに */
  }

  .hb-basic-supply-column--victory {
    /* 必要なら勝利点列専用の装飾をここに */
  }

  /* 王国カードのグリッドは 4 列で固定 */
/* 王国カードは通常サイズ */
.hb-kingdom-supply-grid .hb-card-frame {
  max-width: 180px;
}

  /* ====== サプライカード共通 ====== */

  .hb-supply-card {
    @apply relative cursor-pointer;
  }

  .hb-supply-card-selected {
    box-shadow: 0 0 0 2px rgba(251, 191, 36, 0.9),
      0 0 10px rgba(251, 191, 36, 0.7);
  }

  .hb-supply-card-compact {
    @apply hb-card p-2;
    max-width: 130px;
    max-height: 190px;
    display: flex;
    flex-direction: column;
    overflow: hidden;
  }

  /* ====== カード汎用スタイル ====== */

  /* 共通フレーム（王国カードサイズ基準） */
  .hb-card-frame {
    width: 100%;
    max-width: 140px;
    aspect-ratio: 2 / 3;
    margin: 0 auto;
  }

  /* 基本カード（資源・勝利点）はさらに少し小さく */
  .hb-supply-card-basic .hb-card-frame {
    max-width: 120px;
  }

  .hb-card-inner {
    background: radial-gradient(circle at top, #1f2937, #020617);
    border-radius: 18px;
    padding: 0.4rem 0.4rem 0.45rem;
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.5);
    display: flex;
    flex-direction: column;
    height: 100%;
  }

  .hb-card-image-wrapper {
    @apply w-full rounded-xl overflow-hidden mb-1 bg-slate-900/80 flex items-center justify-center;
    aspect-ratio: 16 / 11;
  }

  .hb-card-image {
    @apply w-full h-full object-cover;
  }

  .hb-card-header {
    @apply flex items-center justify-between gap-1 mb-1;
  }

  .hb-card-name {
    @apply text-[11px] font-semibold text-slate-50;
  }

  .hb-card-cost {
    @apply text-[10px] text-amber-300;
  }

  .hb-card-type-badge {
    @apply inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-medium;
  }

  .hb-card-type-badge-resource {
    @apply bg-emerald-900/80 text-emerald-200 border border-emerald-700/60;
  }

  .hb-card-type-badge-victory {
    @apply bg-amber-900/80 text-amber-200 border border-amber-700/60;
  }

  .hb-card-type-badge-person {
    @apply bg-sky-900/80 text-sky-200 border border-sky-700/60;
  }

  .hb-card-type-badge-event {
    @apply bg-fuchsia-900/80 text-fuchsia-200 border border-fuchsia-700/60;
  }

  .hb-card-text {
    @apply text-[10px] text-slate-200 leading-tight line-clamp-3;
  }

  /* ====== プレイエリア ====== */

  .hb-play-area {
    @apply flex-1;
  }

  .hb-play-area-inner {
    @apply flex flex-col gap-1;
  }

  .hb-played-cards-row {
    @apply flex flex-wrap gap-2;
  }

  .hb-played-card {
    @apply w-24;
  }

  /* ====== 手札エリア ====== */

  .hb-hand-area {
    @apply border-t border-slate-800 bg-slate-950/95 px-6 pt-3 pb-4 flex flex-col gap-2;
    min-height: 220px;
  }

  .hb-hand-header {
    @apply flex items-baseline justify-between;
  }

  .hb-hand-hint {
    @apply text-[11px] text-slate-400;
  }

  .hb-hand-row {
    @apply flex flex-row gap-2 items-stretch overflow-x-auto pt-1;
  }

  .hb-hand-card {
    @apply flex-shrink-0;
  }

  .hb-hand-card-selected {
    box-shadow: 0 0 0 2px rgba(56, 189, 248, 0.9),
      0 0 10px rgba(56, 189, 248, 0.7);
  }

  /* ====== フッター操作ボタン ====== */

  .hb-footer {
    @apply border-t border-slate-800 bg-slate-950/95 px-6 py-3;
  }

  .hb-controls {
    @apply flex flex-col md:flex-row items-start md:items-center justify-between gap-2;
  }

  .hb-controls-left {
    @apply flex flex-col gap-1 text-xs text-slate-300;
  }

  .hb-controls-phase {
    @apply font-semibold text-slate-100;
  }

  .hb-controls-hint {
    @apply text-[11px] text-slate-400;
  }

  .hb-controls-right {
    @apply flex flex-wrap gap-2;
  }

  .hb-btn {
    @apply px-3 py-1.5 rounded-full border border-slate-600 bg-slate-800/80 text-xs text-slate-100 hover:bg-slate-700 transition;
  }

  .hb-btn-primary {
    @apply border-amber-400 bg-amber-600/90 text-slate-950 font-semibold hover:bg-amber-500;
  }
}
