# History Build – 戦国ミニデッキ版 v1.5

---

## 1-0. 目的と前提

### 🎯 学習目的

- 戦国時代の **主要人物・出来事・イメージ** を楽しく覚える  
- 「国づくり」「国力」という観点で歴史をざっくり掴む  
- カードの効果から「人物の役割」や「出来事の意味」をイメージできるようにする  

### 🎮 ゲーム目的

- ゲーム終了時点で **「国力」ポイントが一番高いプレイヤーが勝ち**  
- プレイヤー：人間1人 vs CPU1人  
- 対象：小学校高学年〜中学生  
- プレイ時間：10〜15分  
- v1.5 では **「戦国ミニデッキ」1セットのみ** 実装  

---

## 1-1. ゲームの構成要素

### 🔹 リソース（2種類）

#### 米（こめ）

- **このターン中につかえる「お金」**
- ターン終了時に 0 にリセット
- 主に「資源カード（こめ袋・こめ俵・年貢）」の効果で増える

#### 知識（ちしき）

- 国全体の「学びのレベル」
- ゲーム中 ずっとたまり続ける（累積）
- 主に **人物カード・出来事カードをプレイしたとき** に増える
- **カード購入の条件（知識条件）として使う**

---

### 🔹 カードタイプ（4種類）

#### 資源カード（resource）

- 米をふやすカード
- 例：「こめ袋（小）」「こめ俵（中）」「年貢（大）」

#### 人物カード（character）

- 歴史人物をあらわすカード
- 米 / 知識をふやしたり、カードを引いたり、割引などの効果を持つ
- プレイすると **知識が増えるものが多い**

#### 出来事カード（event）

- 戦国時代の大きなできごと
- 1回の使用で強い効果が出る  
- v1.5 では「使い捨て」にはせず、他のカード同様デッキを周回する

#### 国力カード（victory）

- ゲーム終了時の得点カード
- プレイしても何も起きない（効果なし or endGame 時のみ）
- 例：「村落」「城下町」「一国支配」

---

### 🔹 コストと「知識条件」

各カードには 2 種類の購入条件がある。

1. **コスト（cost）**
   - 「米」と「知識」の合計で支払う値
   - 例： cost 5 のカード →  
     このターンの米 + 現在の知識 ≥ 5 なら支払い可能

2. **知識条件（requiredKnowledge）**
   - そのカードを購入するために必要な「最低知識値」
   - 現在の知識 < requiredKnowledge の場合、そのカードは買えない

👉 子ども向け説明テンプレ：

> 強い武将カードやすごい出来事カードを買うには、  
> お米だけじゃなくて「知識」が必要だよ。  
> いろんな人物や出来事カードを使うと知識がふえて、  
> もっと強いカードが買えるようになるんだ。

---

## 1-2. ゲームのセットアップ

### 🔹 初期デッキ

各プレイヤー（人間・CPU）は同じスタートデッキから開始する：

- 資源カード：  
  - 「こめ袋（小）」 × 7
- 国力カード：  
  - 「村落」 × 3
- 人物カード：0枚
- 出来事カード：0枚

合計 10 枚をシャッフルし、最初の手札5枚を引く。

### 🔹 ターン順

- v1.5 は「人間 → CPU → 人間 → CPU …」の順で固定
- 両者が交互にターンを行う

---

## 1-3. ターンの流れ（コアシステム）

各ターンの処理手順は次のとおり。

1. **ドロー**
   - 必要ならデッキからカードを5枚引いて手札にする
   - デッキが足りない場合は捨札をシャッフルして新しいデッキを作る

2. **資源フェーズ**
   - 手札の **資源カード（type = "resource"）** を好きなだけプレイできる
   - プレイした資源カードの効果で **米を増やす**
   - プレイしたカードはプレイエリアに置く（後で捨札に行く）

3. **行動フェーズ**
   - 手札の **人物カード（character）または出来事カード（event）を1枚だけ** プレイできる（任意）
   - プレイしなくてもよい
   - プレイしたカードの効果を解決し、プレイエリアに置く
   - 多くの人物・出来事カードは **知識を増やす**

4. **購入フェーズ**
   - このターンにためた「米」と、現在の「知識」を使って、カードを1枚だけ購入できる
   - 購入には以下の2条件を同時にみたす必要がある：
     1. 米 + 知識 ≥ カードの cost
     2. 知識 ≥ カードの requiredKnowledge
   - 購入したカードは捨札に置く（次の周回でデッキに混ざる）

5. **クリーンアップフェーズ**
   - このターン中にプレイしたカード（資源・人物・出来事）＋  
     手札に残ったカードをすべて捨札へ
   - 「米」は 0 にリセット
   - 次の自分のターン開始時に、あらためて 5 枚引く

---

## 1-4. ゲーム終了条件

v1.5 では子どもにわかりやすくするため、**固定ターン制**とする。

- 各プレイヤーが **12ターン** 行ったらゲーム終了
- ゲーム終了時：
  - 各プレイヤーのデッキ（山札・手札・捨札全部）の  
    「国力カード」の合計（＋一部カードの endGame ボーナス）を計算
  - 合計が大きい方が勝利（同点なら引き分け）

---

## 1-5. 戦国ミニデッキ（v1.5 スコープ）

※カードの詳細データは `cards.json` で管理。ここでは役割の一覧のみ。

### 🔹 資源カード（3種）

- **こめ袋（小）**：米 +1、コスト0
- **こめ俵（中）**：米 +2、コスト3
- **年貢（大）**：米 +3、コスト6

### 🔹 国力カード（3種）

- **村落**：国力+1、コスト2、知識条件0
- **城下町**：国力+3、コスト5、知識条件1
- **一国支配**：国力+6、コスト8、知識条件3

### 🔹 人物カード（6種）

- **明智光秀**：手札1枚破棄 + 知識+1（コスト3、知識条件0）
- **武田信玄**：2ドロー + 知識+1（コスト4、知識条件0）
- **上杉謙信**：知識+2 + 米+1（コスト4、知識条件1）
- **織田信長**：米+1、知識3以上ならさらに米+1（コスト5、知識条件3）
- **豊臣秀吉**：米+1 + 知識+1（コスト5、知識条件2）
- **徳川家康**：米+1 + 知識+1、このターン国力カードのコスト-1（コスト6、知識条件4）

### 🔹 出来事カード（4種）

- **関所**：1ドロー + 知識+1（コスト3、知識条件0）
- **楽市楽座**：米+1、このターン人物・出来事カードのコスト-1（コスト4、知識条件1）
- **刀狩**：手札1枚破棄 + 知識+1 + 国力+1（コスト4、知識条件2）
- **天下統一**：国力+1 + 米+1（コスト6、知識条件3）

---

## 1-6. 学習要素の入れ方

各カードには短い説明テキストを持たせる：

- 例）「織田信長：天下統一にちかづいた戦国大名」

UI上のルール：

- カードを長押し or クリック → 「学習モードポップアップ」を表示
- ゲーム終了後：「このゲームで登場した人物・出来事リスト」を表示し、復習できるようにする

---

## 1-7. v1.5 で「やらない」こと（スコープ外）

- オンライン対戦
- 2時代以上の同時プレイ
- デッキ構築の事前カスタマイズ
- スキルツリーやレベル制
- リッチなアニメーション・演出（v1.5 は最低限のエフェクトのみ）
